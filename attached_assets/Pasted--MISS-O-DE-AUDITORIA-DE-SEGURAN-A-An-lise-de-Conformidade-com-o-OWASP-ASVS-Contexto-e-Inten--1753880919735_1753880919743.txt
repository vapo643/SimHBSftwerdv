# MISSÃO DE AUDITORIA DE SEGURANÇA: Análise de Conformidade com o OWASP ASVS

**Contexto e Intenção:**
Olá, Agente. Concluímos a implementação das funcionalidades principais do nosso software, e ele está estável. A nossa próxima grande missão é elevar a segurança da nossa aplicação para o próximo nível, alinhando-a com as melhores práticas da indústria. A nossa "fonte da verdade" para esta missão é o standard de verificação de segurança OWASP ASVS, cujo PDF estou a fornecer. Acreditamos que já temos uma boa estrutura para receber estas melhorias.

**Sua Missão (A Auditoria):**
A sua tarefa **nesta primeira etapa** não é corrigir o código. A sua missão é atuar como um Auditor de Cibersegurança e realizar uma **análise de lacunas ("gap analysis")**. Você deve ler o nosso código-fonte e compará-lo com os requisitos do **Nível 1** do standard ASVS que estou a anexar.

**Roadmap de Análise (Foco Inicial):**
Por favor, concentre a sua auditoria nos seguintes capítulos do ASVS, que são os mais críticos para a nossa aplicação:

1.  **V4: API and Web Service:** Analise as nossas rotas em `/server/routes.ts`. [cite_start]Estamos a seguir as boas práticas para segurança de APIs, como a validação de `Content-Type`? [cite: 1788]
2.  **V6: Authentication:** Analise o nosso fluxo de autenticação. [cite_start]As nossas práticas de senha e gestão de credenciais estão alinhadas com os requisitos do Nível 1? [cite: 1872]
3.  **V7: Session Management:** Analise a nossa gestão de sessão. [cite_start]A invalidação de tokens no logout e os timeouts estão implementados corretamente? [cite: 2005]
4.  **V8: Authorization:** Analise as nossas `role-guards` e as políticas de RLS. [cite_start]A autorização a nível de função e de dados está a ser forçada numa camada de serviço confiável (backend)? [cite: 2036, 2043]

**Formato do Relatório:**
Ao final, entregue um relatório de auditoria. Para cada um dos 4 capítulos, liste em formato de "checklist" os requisitos do Nível 1 que nós **[✅ JÁ CUMPRIMOS]** e, mais importante, liste as **[❌ LACUNAS]** (requisitos que ainda não implementamos).

Este relatório será o nosso mapa para as próximas missões de implementação de segurança.