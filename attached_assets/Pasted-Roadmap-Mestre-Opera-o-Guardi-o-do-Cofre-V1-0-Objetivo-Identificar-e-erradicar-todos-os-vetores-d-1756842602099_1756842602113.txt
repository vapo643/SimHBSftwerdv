Roadmap Mestre: Opera√ß√£o Guardi√£o do Cofre V1.0
Objetivo: Identificar e erradicar todos os vetores de ataque que permitem a dele√ß√£o acidental ou aut√≥noma do banco de dados, e implementar uma s√©rie de salvaguardas (c√≥digo, infraestrutura, protocolo) para tornar esta classe de erro imposs√≠vel no futuro.

FASE 1: Mapeamento Forense de Vetores de Ataque (O "Mapa da Amea√ßa")

[üéØ EM EXECU√á√ÉO] Passo 1.1: Auditoria de todos os Scripts com Potencial Destrutivo.

Objetivo: Criar um invent√°rio de cada linha de c√≥digo, script ou comando no projeto que tenha a capacidade de executar uma opera√ß√£o destrutiva no banco de dados (DROP, DELETE, TRUNCATE, reset, push --force).

[PENDENTE] FASE 2: An√°lise da Causa Raiz (A "Cena do Crime")

Passo 2.1: Auditoria de Vari√°veis de Ambiente e Conex√µes.

Objetivo: Mapear como as vari√°veis de ambiente do banco de dados (DATABASE_URL, etc.) s√£o carregadas e utilizadas, especialmente a fronteira entre os ambientes de teste e produ√ß√£o.

Passo 2.2: Auditoria do Protocolo de Seguran√ßa do Banco de Dados de Teste.

Objetivo: Investigar a guarda de seguran√ßa em tests/lib/db-helper.ts que deveria prevenir a execu√ß√£o de testes contra o banco de produ√ß√£o, e entender como ela pode ter sido contornada ou desativada.

[PENDENTE] FASE 3: Arquitetura da Solu√ß√£o de Blindagem (O "Sistema de Defesa")

Passo 3.1: Desenho do Protocolo de Acesso "Menos Privilegiado".

Objetivo: Arquitetar uma nova pol√≠tica de seguran√ßa onde o usu√°rio do banco de dados utilizado pela aplica√ß√£o e pelos testes tenha permiss√µes estritamente limitadas, sendo incapaz de executar comandos de DROP TABLE.

Passo 3.2: Desenho da Doutrina de "Imutabilidade da Infraestrutura de Teste".

Objetivo: Definir um novo protocolo operacional que pro√≠be o Agente de modificar arquivos cr√≠ticos de configura√ß√£o de teste.

[PENDENTE] FASE 4: Implementa√ß√£o e Certifica√ß√£o (A "Constru√ß√£o do Cofre")

Passo 4.1: Implementa√ß√£o das salvaguardas de c√≥digo e infraestrutura.

Passo 4.2: Execu√ß√£o de um "Teste de Penetra√ß√£o Controlado" para validar as defesas.

Passo 4.3: Execu√ß√£o final da "Opera√ß√£o Veredito Final" para recertificar o sistema.

