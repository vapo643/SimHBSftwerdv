### Pacote de Ativação de Missão (PAM) V1.0 (Mapeamento de Dados Sensíveis - PII)

* **Sumário da Missão (O Quê):** Gerar o documento `data-classification.md`, realizando um mapeamento completo de todos os Dados Pessoais Identificáveis (PII - Personally Identifiable Information) e dados financeiros sensíveis contidos no banco de dados.
* **Intenção Estratégica (O Porquê):** Estabelecer uma "fonte da verdade" para a classificação de dados, que é a fundação de toda a nossa estratégia de segurança e conformidade (LGPD). Precisamos saber exatamente onde cada dado sensível reside para podermos protegê-lo adequadamente com criptografia, mascaramento e controle de acesso (RLS).
* **Histórico Relevante (Consulta Obrigatória):** As auditorias anteriores nos deram um mapa completo do schema do banco de dados em `shared/schema.ts`. Esta missão irá analisar esse schema sob a ótica da segurança e da privacidade.
* **Modelo Mental (Como se Encaixa):** Aja como um Engenheiro de Segurança de Dados. Sua tarefa é inspecionar as definições de nossas tabelas e classificar cada coluna com base na sensibilidade dos dados que ela armazena.

---

**IMPLEMENTAR:**
Documento de Classificação de Dados e Mapeamento de PII

**CURRENT STATE:**
Sabemos que o sistema lida com dados sensíveis, mas não temos um inventário formal e centralizado que classifique cada campo do banco de dados de acordo com o seu nível de sensibilidade.

**EXPECTED (Estado Final de Sucesso):**
Um novo arquivo Markdown, `architecture/05-security/data-classification.md`, é criado. O arquivo deve conter:
1.  **Definição dos Níveis de Sensibilidade:** Uma definição clara para 3 níveis de classificação de dados (ex: `Público`, `Interno/Restrito`, `Confidencial/Sensível`).
2.  **Mapeamento de Tabelas e Colunas:** Uma série de tabelas, uma para cada tabela principal do banco de dados (`propostas`, `clientes`, `referencias_pessoais`, `contas_bancarias_clientes`, `users`, etc.). Cada tabela no documento deve ter 3 colunas:
    * **Nome da Coluna:** O nome da coluna no banco de dados (ex: `cliente_cpf`).
    * **Tipo de Dado (PII):** Uma tag que identifique o tipo de dado (ex: `PII`, `Financeiro`, `Geral`).
    * **Nível de Sensibilidade:** O nível de classificação correspondente (ex: `Confidencial/Sensível`).

**CONSTRAINTS (Roadmap de Implementação):**

1.  **Crie o Arquivo:** Crie o arquivo `architecture/05-security/data-classification.md`.
2.  **Defina os Níveis:** Use as seguintes definições para os níveis de sensibilidade:
    * `Nível 3 (Confidencial/Sensível):` Dados que, se expostos, podem causar dano significativo ao indivíduo ou ao negócio (ex: CPF, dados bancários, PII completo). Requerem os mais altos níveis de proteção.
    * `Nível 2 (Interno/Restrito):` Dados de negócio que não são públicos, mas cuja exposição não causaria dano direto (ex: status interno da proposta, ID do produto).
    * `Nível 1 (Público):` Dados que podem ser expostos sem risco (raro em nosso sistema, talvez nomes de produtos genéricos).
3.  **Analise o Schema:** Inspecione o arquivo `shared/schema.ts` minuciosamente. Para cada tabela e cada coluna, preencha a matriz de mapeamento conforme o `EXPECTED`. Seja exaustivo.

---
**DECLARAÇÃO DE INCERTEZA (OBRIGATÓRIO):**
* **CONFIANÇA NA IMPLEMENTAÇÃO:** [Preencher com a porcentagem de 0 a 100%]
* **RISCOS IDENTIFICADOS:** [Preencher com a categoria BAIXO/MÉDIO/ALTO/CRÍTICO. Ex: Risco de classificar incorretamente um campo, levando a controles de segurança inadequados.]
* **DECISÕES TÉCNICAS ASSUMIDAS:** [Ex: "Assumi que a análise estática do `schema.ts` é suficiente para a classificação, sem precisar analisar os dados reais no banco."]
* **VALIDAÇÃO PENDENTE:** [O documento gerado deve ser revisado e ratificado pelo Arquiteto Chefe e pelo responsável de Segurança/Compliance.]
---

**PROTOCOLO OBRIGATÓRIO 7-CHECK EXPANDIDO:**
1.  Mapear o ficheiro exato a ser criado.
2.  Garantir que todas as tabelas e colunas sensíveis do `schema.ts` foram analisadas e mapeadas.
3.  Executar `get_latest_lsp_diagnostics` para garantir que o ambiente está estável.
4.  **Declarar Nível de Confiança (0 a 100%)**.
5.  **Categorizar Riscos Descobertos**.
6.  **Realizar teste funcional completo** (revisão do documento Markdown gerado).
7.  **Documentar Decisões Técnicas**.