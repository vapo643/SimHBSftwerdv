### Pacote de Ativação de Missão (PAM) V1.0 - Diagnóstico de Drizzle-Kit

* **Sumário da Missão (O Quê):** Analisar a configuração do Drizzle ORM e do Drizzle-Kit no projeto e fornecer a sequência de comandos CLI **exata e canónica** para gerar e aplicar migrações de base de dados a partir do schema existente.
* **Intenção Estratégica (O Porquê):** Resolver uma falha persistente onde as migrações não estão a ser geradas e aplicadas através da ferramenta `drizzle-kit`, violando os princípios de Infrastructure as Code. Precisamos de um plano de execução que seja tecnicamente irrefutável.
* **Modelo Mental (Como se Encaixa):** Você é um especialista em Drizzle ORM e DevOps. Sua tarefa é analisar os ficheiros de configuração e fornecer um "playbook" de execução de linha de comando que seja o padrão-ouro da indústria para o gerenciamento de migrações com Drizzle.

---

**IMPLEMENTAR (Plano de Diagnóstico):**
Execute a seguinte sequência de análise e responda com base nas suas descobertas.

**CONSTRAINTS (Roadmap de Diagnóstico):**

**Passo 1: Análise dos Ficheiros de Configuração**
1.1. Analise o ficheiro `package.json` e liste os scripts disponíveis relacionados com `drizzle-kit` (ex: `db:generate`, `db:push`).
1.2. Analise o ficheiro `drizzle.config.ts` e descreva a sua configuração (dialecto, caminho do schema, diretório de saída das migrações).
1.3. Analise o ficheiro `shared/schema.ts` e confirme a presença das definições de índices na tabela `propostas`.

**Passo 2: Geração do "Playbook" de Execução Canónico**
2.1. Com base na sua análise, descreva, passo a passo, a sequência de comandos `npm run ...` ou `npx drizzle-kit ...` que um desenvolvedor deve executar para:
    a) **Gerar um novo ficheiro de migração SQL** a partir das alterações já existentes em `shared/schema.ts`.
    b) **Aplicar essa migração gerada** à base de dados.
2.2. **Restrição Crítica:** A sua resposta **NÃO DEVE** incluir a execução direta de código SQL. O objetivo é utilizar exclusivamente as ferramentas CLI do `drizzle-kit` para gerenciar o ciclo de vida da migração.

**Passo 3: Análise de Causa Raiz de Possíveis Falhas**
3.1. Com base na configuração, liste 3 possíveis causas para o comando `npm run db:push` ou `npx drizzle-kit push` falhar num ambiente como o Replit, especialmente em relação a problemas de conexão ou SSL.
3.2. Para cada causa, sugira uma solução ou um parâmetro de comando que poderia mitigar o problema.

---
**PROTOCOLO DE DIVULGAÇÃO TOTAL (PDT) V1.0 (MANDATÓRIO)**
Liste a totalidade das suas descobertas e recomendações.