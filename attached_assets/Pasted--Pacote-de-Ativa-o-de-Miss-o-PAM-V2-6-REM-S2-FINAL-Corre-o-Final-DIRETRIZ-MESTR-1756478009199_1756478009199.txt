### **Pacote de Ativa√ß√£o de Miss√£o (PAM) V2.6 - REM-S2-FINAL (Corre√ß√£o Final)**

**[DIRETRIZ MESTRA DE DIVULGA√á√ÉO - PDT V2.0 ATIVADA]**
*Sua resposta deve ser exaustiva. Reporte a realidade t√©cnica sem omiss√µes. A transpar√™ncia radical √© mandat√≥ria.*

* **Sum√°rio da Miss√£o (O Qu√™):** Corrigir o erro de tipo (`TypeError`) na linha 602 do arquivo `server/modules/proposal/domain/Proposal.ts`, garantindo que o projeto compile sem erros.
* **Inten√ß√£o Estrat√©gica (O Porqu√™):** Eliminar o √∫ltimo bloqueador conhecido para a conformidade total do Sprint 2. Esta corre√ß√£o cir√∫rgica √© o passo final para garantir que nossa camada de dom√≠nio n√£o s√≥ est√° bem arquitetada, mas tamb√©m funcionalmente correta, permitindo-nos avan√ßar para o Sprint 3 com uma base 100% est√°vel.
* **Hist√≥rico Relevante (Consulta Obrigat√≥ria):** Sua √∫ltima auditoria (`AUD-S2-001`) identificou este erro como o √∫nico desvio remanescente para a conformidade total do Sprint 2.
* **Modelo Mental (Como se Encaixa):** Voc√™ √© um engenheiro de software realizando um hotfix. A falha j√° foi diagnosticada. Sua miss√£o √© aplicar a corre√ß√£o precisa, validar que o problema foi resolvido e n√£o introduzir novos efeitos colaterais.

---

**IMPLEMENTAR:**
User Story REM-S2-FINAL: Corre√ß√£o de TypeError no Agregado `Proposal`

**CONTEXT:**
Nossa auditoria completa do Sprint 2 foi um sucesso, exceto por um √∫nico erro de compila√ß√£o que impede o c√°lculo do Custo Efetivo Total (CET). O erro ocorre porque estamos tentando usar um objeto `Money` em uma opera√ß√£o matem√°tica que espera um n√∫mero.

**CURRENT STATE:**
O arquivo `server/modules/proposal/domain/Proposal.ts` cont√©m um erro de tipo na linha 602. O c√≥digo `(custoTotal / this._valor - 1) * 100` falha porque `this._valor` √© uma inst√¢ncia do Value Object `Money`, n√£o um `number`.

**EXPECTED (Estado Final de Sucesso):**
1.  **C√≥digo Corrigido:** A linha 602 do arquivo `server/modules/proposal/domain/Proposal.ts` deve ser modificada para usar o valor num√©rico do Value Object `Money`. A corre√ß√£o prov√°vel √© `(custoTotal / this._valor.getReais() - 1) * 100`.
2.  **Compila√ß√£o Limpa:** A execu√ß√£o do comando `get_latest_lsp_diagnostics` deve retornar sucesso, provando que n√£o h√° mais erros de compila√ß√£o em todo o projeto.
3.  **Sem Regress√µes:** A su√≠te de testes de integra√ß√£o (`npx vitest run tests/integration`) deve ser executada novamente e todos os testes devem continuar passando.

**CONSTRAINTS (Roadmap de Implementa√ß√£o):**
1.  **Aplicar Corre√ß√£o:** Edite o arquivo `server/modules/proposal/domain/Proposal.ts` na linha 602 e aplique a corre√ß√£o para usar o m√©todo `.getReais()` (ou m√©todo equivalente para obter o valor num√©rico) do Value Object `Money`.
2.  **Validar Compila√ß√£o:** Execute o comando `get_latest_lsp_diagnostics` e cole o output, que deve ser `Success: No LSP diagnostics found.`.
3.  **Validar Funcionalidade:** Execute o comando `npx vitest run tests/integration` para garantir que a corre√ß√£o n√£o introduziu nenhuma regress√£o. Cole o output completo da execu√ß√£o dos testes.
4.  **Verifica√ß√£o Final:** Execute o protocolo `7-CHECK FULL` e preencha a declara√ß√£o de incerteza.

---
---
[PGI ATIVO | LEMBRETE DE ESTADO DO ROADMAP]
- **Roadmap em Standby:** "üöÄ ROADMAP MESTRE DE IMPLEMENTA√á√ÉO_ OPERA√á√ÉO A√áO L√çQUIDO.md"
- **Pr√≥ximo Passo a ser Retomado:** Milestone M3: Core Business Logic
- **Miss√£o de Emerg√™ncia Atual:** "Opera√ß√£o Valida√ß√£o Mestra"
---